
<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- Theme configuration -->
    <meta name="theme-color" content="#dc2626" />
    <meta name="msapplication-TileColor" content="#dc2626" />
    
    <!-- Early metadata initialization -->
    <script>
      // Early metadata detection and initialization
      (function() {
        const pathname = window.location.pathname;
        
        // Shop configurations
        const shopConfigs = {
          root: {
            name: "HeizölNetz Deutschland",
            brand: "HeizölNetz",
            phone: "0800 123 456 789",
            email: "info@heizoel-netz.de",
            baseUrl: "https://heizoel-netz.de"
          },
          stanton: {
            name: "STANTON Heizöl",
            brand: "STANTON", 
            phone: "0800 987 654 321",
            email: "info@stanton-heizoel.de",
            baseUrl: "https://stanton-heizoel.de"
          },
          greenoil: {
            name: "GreenOil Eco-Heizöl",
            brand: "GreenOil",
            phone: "0800 456 789 123", 
            email: "info@greenoil-eco.de",
            baseUrl: "https://greenoil-eco.de"
          }
        };

        // Page metadata configurations
        const pageMetaConfigs = {
          root: {
            home: {
              title: "HeizölNetz Deutschland - Bundesweites Heizöl-Netzwerk | Günstig & Zuverlässig",
              description: "Deutschlands größtes Heizöl-Netzwerk mit 500+ Partnern. Günstige Preise, schnelle Lieferung, 99.8% Zuverlässigkeit. Jetzt Heizöl bestellen!"
            },
            impressum: {
              title: "Impressum - HeizölNetz Deutschland",
              description: "Impressum und rechtliche Informationen von HeizölNetz Deutschland."
            },
            agb: {
              title: "AGB - HeizölNetz Deutschland",
              description: "Allgemeine Geschäftsbedingungen von HeizölNetz Deutschland."
            },
            widerrufsrecht: {
              title: "Widerrufsrecht - HeizölNetz Deutschland", 
              description: "Widerrufsrecht und Widerrufsbelehrung von HeizölNetz Deutschland."
            }
          },
          stanton: {
            home: {
              title: "STANTON Heizöl - Premium Heizöl-Lieferung | Qualität seit 1985",
              description: "STANTON Heizöl - Ihr vertrauensvoller Partner für Premium Heizöl-Lieferung seit 1985. Höchste Qualität, zuverlässiger Service, faire Preise."
            },
            impressum: {
              title: "Impressum - STANTON Heizöl",
              description: "Impressum und rechtliche Informationen von STANTON Heizöl."
            },
            agb: {
              title: "AGB - STANTON Heizöl",
              description: "Allgemeine Geschäftsbedingungen von STANTON Heizöl."
            },
            widerrufsrecht: {
              title: "Widerrufsrecht - STANTON Heizöl",
              description: "Widerrufsrecht und Widerrufsbelehrung von STANTON Heizöl."
            }
          },
          greenoil: {
            home: {
              title: "GreenOil Eco-Heizöl - Nachhaltige Heizlösungen | CO2-reduziert",
              description: "GreenOil Eco-Heizöl - Nachhaltige und umweltfreundliche Heizlösungen. CO2-reduziert, bio-additiviert, für eine grünere Zukunft."
            },
            impressum: {
              title: "Impressum - GreenOil Eco-Heizöl",
              description: "Impressum und rechtliche Informationen von GreenOil Eco-Heizöl."
            },
            agb: {
              title: "AGB - GreenOil Eco-Heizöl", 
              description: "Allgemeine Geschäftsbedingungen von GreenOil Eco-Heizöl."
            },
            widerrufsrecht: {
              title: "Widerrufsrecht - GreenOil Eco-Heizöl",
              description: "Widerrufsrecht und Widerrufsbelehrung von GreenOil Eco-Heizöl."
            }
          }
        };

        // Favicon configurations
        const faviconConfigs = [
          {
            path: '/',
            color: '#dc2626',
            iconType: 'flame',
            name: 'HeizölNetz Deutschland'
          },
          {
            path: '/1/',
            color: '#dc2626',
            iconType: 'drop',
            name: 'STANTON Heizöl'
          },
          {
            path: '/2/',
            color: '#059669',
            iconType: 'leaf',
            name: 'GreenOil Eco-Heizöl'
          }
        ];

        // Favicon generation functions
        function getIconSVG(iconType, color) {
          switch (iconType) {
            case 'flame':
              return `<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M16 2c-2 4-4 8-2 12 1 2 3 3 5 2 1-1 1-3 0-4-1-1-2-1-2-2 0-1 1-2 2-1 3 2 5 6 3 10-1 2-3 4-6 4s-6-2-7-5c-2-4 0-9 3-12 1-1 2-3 4-4z" fill="${color}"/><circle cx="16" cy="22" r="2" fill="${color}" opacity="0.7"/></svg>`;
            case 'drop':
              return `<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M16 2c-6 8-10 14-10 18 0 5.5 4.5 10 10 10s10-4.5 10-10c0-4-4-10-10-18z" fill="${color}"/><ellipse cx="13" cy="20" rx="3" ry="4" fill="${color}" opacity="0.6"/></svg>`;
            case 'leaf':
              return `<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M8 16c0-8 8-14 16-14 0 8-6 16-14 16-1 0-2-1-2-2z" fill="${color}"/><path d="M8 16c0 8 8 14 16 14 0-8-6-16-14-16-1 0-2 1-2 2z" fill="${color}" opacity="0.7"/><line x1="16" y1="16" x2="24" y2="8" stroke="${color}" stroke-width="1" opacity="0.5"/></svg>`;
            default:
              return getIconSVG('flame', color);
          }
        }

        function getFaviconConfigForPath(pathname) {
          // Find exact match first
          const exactMatch = faviconConfigs.find(config => pathname === config.path);
          if (exactMatch) return exactMatch;
          
          // Find path that starts with the config path
          const pathMatch = faviconConfigs.find(config => 
            config.path !== '/' && pathname.startsWith(config.path)
          );
          if (pathMatch) return pathMatch;
          
          // Default to root config
          return faviconConfigs[0];
        }

        function loadFaviconForPath(pathname) {
          const config = getFaviconConfigForPath(pathname);
          
          // Remove existing favicon links
          const existingLinks = document.querySelectorAll('link[rel*="icon"]');
          existingLinks.forEach(link => link.remove());
          
          // Create new favicon link
          const link = document.createElement('link');
          link.rel = 'icon';
          link.type = 'image/svg+xml';
          
          // Generate SVG favicon
          const svg = getIconSVG(config.iconType, config.color);
          const svgDataUrl = `data:image/svg+xml,${encodeURIComponent(svg)}`;
          link.href = svgDataUrl;
          
          // Add to head
          document.head.appendChild(link);
          
          console.log(`Favicon loaded for path: ${pathname} (${config.name})`);
        }

        // Detect shop and page
        function detectShop(pathname) {
          if (pathname.startsWith('/1/')) return 'stanton';
          if (pathname.startsWith('/2/')) return 'greenoil';
          return 'root';
        }

        function detectPage(pathname) {
          const cleanPath = pathname.replace(/^\/[12]\//, '').replace(/\/$/, '');
          if (!cleanPath || cleanPath === 'home') return 'home';
          return cleanPath;
        }

        // Set metadata helper
        function setMeta(name, content, property = false) {
          const selector = property ? `meta[property="${name}"]` : `meta[name="${name}"]`;
          let meta = document.querySelector(selector);
          if (!meta) {
            meta = document.createElement('meta');
            if (property) {
              meta.setAttribute('property', name);
            } else {
              meta.setAttribute('name', name);
            }
            document.head.appendChild(meta);
          }
          meta.setAttribute('content', content);
        }

        // Initialize metadata and favicon
        const shop = detectShop(pathname);
        const page = detectPage(pathname);
        const shopConfig = shopConfigs[shop];
        const pageMeta = pageMetaConfigs[shop][page] || pageMetaConfigs[shop].home;

        // Set initial metadata
        document.title = pageMeta.title;
        setMeta('description', pageMeta.description);
        setMeta('application-name', shopConfig.name);
        setMeta('author', shopConfig.name);

        // Set OpenGraph metadata
        setMeta('og:title', pageMeta.title, true);
        setMeta('og:description', pageMeta.description, true);
        setMeta('og:site_name', shopConfig.name, true);
        setMeta('og:type', 'website', true);
        setMeta('og:locale', 'de_DE', true);

        // Set Twitter metadata
        setMeta('twitter:card', 'summary_large_image');
        setMeta('twitter:title', pageMeta.title);
        setMeta('twitter:description', pageMeta.description);
        setMeta('twitter:site', '@heizoel_netz');

        // Load favicon for current path
        loadFaviconForPath(pathname);

        console.log(`Early metadata initialized for ${shopConfig.name} - ${page}`);
      })();
    </script>
  </head>

  <body>
    <div id="root"></div>
    <!-- IMPORTANT: DO NOT REMOVE THIS SCRIPT TAG OR THIS VERY COMMENT! -->
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
